(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[23],{1246:function(e,t,a){"use strict";var n=a(7),r=a(0),i=a.n(r),o=a(393),l=(a(576),i.a.forwardRef((function(e,t){var a=i.a.cloneElement(e.children,{style:Object(n.a)(Object(n.a)({},e.children.style),{},{visibility:"hidden"})});return i.a.createElement(o.VelocityComponent,Object.assign({ref:t},e),a)})));l.defaultProps={animation:"transition.fadeIn",runOnMount:!0,targetQuerySelector:null,interruptBehavior:"stop",visibility:"visible",duration:300,delay:50,easing:[.4,0,.2,1],display:null,setRef:void 0};var c=i.a.memo(l);a.d(t,"a",(function(){return c}))},1248:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}));var n=a(56),r=a(132);function i(){r.c(n.a.ROLE)===n.a.ROLE_ADMIN&&(window.location="/login")}function o(){r.c(n.a.ROLE)!==n.a.ROLE_ADMIN&&(window.location="/admin/login")}function l(){r.c(n.a.TOKEN)&&(console.log(r.c(n.a.ROLE)),r.c(n.a.ROLE)===n.a.ROLE_ADMIN?window.location="/admin/project-list":window.location="/dashboard")}},1251:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return d})),a.d(t,"l",(function(){return m})),a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return f})),a.d(t,"n",(function(){return p})),a.d(t,"e",(function(){return g})),a.d(t,"h",(function(){return b})),a.d(t,"m",(function(){return v})),a.d(t,"o",(function(){return E})),a.d(t,"k",(function(){return h})),a.d(t,"g",(function(){return _})),a.d(t,"j",(function(){return S})),a.d(t,"i",(function(){return O}));var n=a(59),r=a.n(n),i=(a(39),a(298)),o=a(56),l=a(132),c="[E-COMMERCE APP] GET PRODUCT",s="[E-COMMERCE APP] SAVE PRODUCT";function d(e){var t="".concat(o.a.API_BASE_URL,"/contests/1");i.a("GET",t,null,(function(t){e(t)}))}function m(e,t){if(-1!==e.id){var a="".concat(o.a.API_BASE_URL,"/admin/contests/1");i.a("PUT",a,e,(function(e){t(e)}))}else{var n="".concat(o.a.API_BASE_URL,"/admin/contests/add");i.a("POST",n,e,(function(e){t(e)}))}}function u(e){var t="".concat(o.a.API_BASE_URL,"/admin/projects");i.a("GET",t,null,(function(t){e(t)}))}function f(e,t){var a="".concat(o.a.API_BASE_URL,"/admin/projects/approve/").concat(e);i.a("PUT",a,null,(function(e){t(e)}))}function p(e,t){var a="".concat(o.a.API_BASE_URL,"/admin/members/email");i.a("POST",a,e,(function(e){t(e)}))}function g(e){var t="".concat(o.a.API_BASE_URL,"/admin/projects?sort=-votes");i.a("GET",t,null,(function(t){e(t)}))}function b(e,t){var a="".concat(o.a.API_BASE_URL,"/admin/projects/").concat(e);i.a("GET",a,null,(function(e){t(e)}))}function v(e,t){var a="".concat(o.a.API_BASE_URL,"/admin/projects/update/").concat(e.id);i.a("POST",a,e,(function(e){t(e)}))}function E(e,t){var a="".concat(o.a.API_BASE_URL,"/files/upload");i.b(a,e,(function(e){t(e)}))}function h(){return{type:c,payload:{id:-1,title:"",team_id:-1,type:"short film",image_url:"",synopsis:"",description:"",references:[],approved:!1,votes:0,created_date:"",team:{}}}}function _(e){var t="".concat(o.a.API_BASE_URL,"/admin/projects/").concat(e),a=l.c(o.a.TOKEN),n={"Content-Type":"application/json",Authorization:"Token ".concat(a)},i=r.a.get(t,{headers:n});return function(e){return i.then((function(t){return e({type:c,payload:t.data})}))}}function S(e,t){var a="".concat(o.a.API_BASE_URL,"/teams/").concat(e);i.a("GET",a,null,(function(e){t(e)}))}function O(e){var t="".concat(o.a.API_BASE_URL,"/admin/contests/1/stage");i.a("GET",t,null,(function(t){e(t)}))}},1253:function(e,t,a){"use strict";var n=a(57),r=a(42),i=a(1220),o=a(9),l=a(0),c=a.n(l),s=a(1223),d=a(6);var m=function(e){var t=Object(d.c)((function(e){return e.fuse.settings.mainThemeDark}));return c.a.createElement("div",{className:e.classes.header},e.header&&c.a.createElement(s.a,{theme:t},e.header))},u=a(23),f=a(1234),p=a(1241);var g=function(e){var t=Object(d.c)((function(e){return e.fuse.settings.mainThemeDark})),a=e.classes;return c.a.createElement(c.a.Fragment,null,e.header&&c.a.createElement(s.a,{theme:t},c.a.createElement("div",{className:Object(o.a)(a.sidebarHeader,e.variant)},e.header)),e.content&&c.a.createElement(r.a,{className:a.sidebarContent,enable:e.innerScroll},e.content))};var b=c.a.forwardRef((function(e,t){var a=Object(l.useState)(!1),n=Object(u.a)(a,2),r=n[0],i=n[1],s=e.classes;Object(l.useImperativeHandle)(t,(function(){return{toggleSidebar:d}}));var d=function(){i(!r)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{lgUp:"permanent"===e.variant},c.a.createElement(f.a,{variant:"temporary",anchor:e.position,open:r,onClose:function(e){return d()},classes:{root:Object(o.a)(s.sidebarWrapper,e.variant),paper:Object(o.a)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:s.backdrop}},style:{position:"absolute"}},c.a.createElement(g,e))),"permanent"===e.variant&&c.a.createElement(p.a,{mdDown:!0},c.a.createElement(f.a,{variant:"permanent",className:Object(o.a)(s.sidebarWrapper,e.variant),open:r,classes:{paper:Object(o.a)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)}},c.a.createElement(g,e))))})),v=Object(i.a)((function(e){return{root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:200,backgroundSize:"cover",pointerEvents:"none"},contentWrapper:Object(n.a)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},e.breakpoints.down("xs"),{padding:"0 1.6rem"}),header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[1],minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{zIndex:1,position:"relative"})},sidebar:{position:"absolute","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:200,minHeight:200,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent"})},sidebarContent:Object(n.a)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary},e.breakpoints.up("lg"),{overflow:"auto","-webkit-overflow-scrolling":"touch"}),backdrop:{position:"absolute"}}})),E=c.a.forwardRef((function(e,t){var a=Object(l.useRef)(null),n=Object(l.useRef)(null),i=Object(l.useRef)(null),s=v(e),d=e.rightSidebarHeader||e.rightSidebarContent,u=e.leftSidebarHeader||e.leftSidebarContent;return c.a.useImperativeHandle(t,(function(){return{rootRef:i,toggleLeftSidebar:function(){a.current.toggleSidebar()},toggleRightSidebar:function(){n.current.toggleSidebar()}}})),c.a.createElement("div",{className:Object(o.a)(s.root,e.innerScroll&&s.innerScroll),ref:i},c.a.createElement("div",{className:s.topBg}),c.a.createElement("div",{className:"flex container w-full"},u&&c.a.createElement(b,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:a,rootRef:i}),c.a.createElement("div",{className:Object(o.a)(s.contentWrapper,u&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",d&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0")},c.a.createElement(m,{header:e.header,classes:s}),c.a.createElement("div",{className:Object(o.a)(s.contentCard,e.innerScroll&&"inner-scroll")},e.contentToolbar&&c.a.createElement("div",{className:s.toolbar},e.contentToolbar),e.content&&c.a.createElement(r.a,{className:s.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll},e.content))),d&&c.a.createElement(b,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:n,rootRef:i})))}));E.defaultProps={};var h=c.a.memo(E);a.d(t,"a",(function(){return h}))},1254:function(e,t,a){"use strict";var n=a(1251);a.d(t,"a",(function(){return n.a})),a.d(t,"b",(function(){return n.b})),a.d(t,"c",(function(){return n.c})),a.d(t,"d",(function(){return n.d})),a.d(t,"e",(function(){return n.f})),a.d(t,"f",(function(){return n.g})),a.d(t,"g",(function(){return n.h})),a.d(t,"h",(function(){return n.j})),a.d(t,"i",(function(){return n.k})),a.d(t,"j",(function(){return n.l})),a.d(t,"k",(function(){return n.m})),a.d(t,"l",(function(){return n.n})),a.d(t,"m",(function(){return n.o}))},1361:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a(1246),i=a(395),o=a(1253),l=a(166),c=a(11),s=a(1237),d=a(1215),m=a(1220),u=a(1335),f=a(1349),p=a(1235),g=a(181),b=a(0),v=a.n(b),E=a(1180),h=a(1218),_=a(1166),S=a(1182),O=a(1250),x=a.n(O),w=a(201),N=a(1336),y=a(1254),C=a(56),D=a(1248),T=Object(m.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));t.default=function(){D.a();var e=T(),t=Object(b.useState)(null),a=Object(n.a)(t,2),m=a[0],O=a[1],j=Object(b.useState)(0),k=Object(n.a)(j,2),R=k[0],A=k[1],I=Object(l.b)(null),P=I.form,L=I.handleChange,U=I.setForm;function B(e){return new Date(e).toISOString().split("T")[0]}function W(e){var t=e;t.registration_start=new Date(e.registration_start).toISOString(),t.registration_end=new Date(e.registration_end).toISOString(),t.voting_start=new Date(e.voting_start).toISOString(),t.voting_end=new Date(e.voting_end).toISOString(),t.ranking_start=new Date(e.ranking_start).toISOString(),y.j(t,(function(a){!function(e){var t="error",a="Server Not Found!";e&&e.status===C.a.STATUS_CREATED||e.status===C.a.STATUS_SUCCESS?(a="Operation Success!",t="success"):e&&(a=e.statusText);x.a.fire({title:a,text:"",icon:t,confirmButtonText:"Ok"}).then()}(a),e.registration_start=B(t.registration_start),e.registration_end=B(t.registration_end),e.voting_start=B(t.voting_start),e.voting_end=B(t.voting_end),e.ranking_start=B(t.ranking_start)}))}return Object(b.useEffect)((function(){y.e((function(e){var t={id:-1,title:"",payment_destination:"",administrative_fee:"",members_team:3,registration_start:B(new Date),registration_end:B((new Date).setDate((new Date).getDate()+15)),voting_start:B((new Date).setDate((new Date).getDate()+16)),voting_end:B((new Date).setDate((new Date).getDate()+19)),ranking_start:B((new Date).setDate((new Date).getDate()+20)),stage:"registrations"};e&&e.status===C.a.STATUS_SUCCESS&&((t=e.data).registration_start=B(t.registration_start),t.registration_end=B(t.registration_end),t.voting_start=B(t.voting_start),t.voting_end=B(t.voting_end),t.ranking_start=B(t.ranking_start)),O(t)}))}),[]),Object(b.useEffect)((function(){m&&!P&&U(m)}),[P,m,U]),m?v.a.createElement(o.a,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:P&&v.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},v.a.createElement("div",{className:"flex flex-col items-start max-w-full"},v.a.createElement("div",{className:"flex items-center max-w-full"},v.a.createElement(r.a,{animation:"transition.expandIn",delay:300},v.a.createElement(d.a,{className:"text-white text-50"},"shopping_basket")),v.a.createElement("div",{className:"flex flex-col min-w-0 mx-8 sm:mc-16"},v.a.createElement(r.a,{animation:"transition.slideLeftIn",delay:300},v.a.createElement(g.a,{className:"text-20 sm:text-24 truncate"},"Contest"))))),v.a.createElement(r.a,{animation:"transition.slideRightIn",delay:300},v.a.createElement(s.a,{className:"whitespace-no-wrap normal-case",variant:"contained",color:"secondary",disabled:!(P.title.length>0&&P.payment_destination.length>0&&P.administrative_fee>0&&new Date(P.registration_end)>=new Date(P.registration_start)&&new Date(P.voting_start)>=new Date(P.registration_end)&&new Date(P.voting_end)>=new Date(P.voting_start)&&new Date(P.ranking_start)>=new Date(P.voting_end)&&!c.a.isEqual(m,P)),onClick:function(){return W(P)}},"Save"))),contentToolbar:v.a.createElement(f.a,{value:R,onChange:function(e,t){A(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},v.a.createElement(u.a,{className:"h-64 normal-case",label:"Basic Infomation"}),v.a.createElement(u.a,{className:"h-64 normal-case",label:"Period"})),content:P&&v.a.createElement("div",{className:"p-16 sm:p-24"},0===R&&v.a.createElement("div",{className:"p-16 sm:p-24"},v.a.createElement(_.a,{className:"mt-8 mb-16",variant:"outlined",fullWidth:!0},v.a.createElement(E.a,{id:"demo-simple-select-outlined-label"},"Contest Stage"),v.a.createElement(S.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",name:"stage",value:P.stage,onChange:L,labelWidth:100},v.a.createElement(h.a,{value:C.a.REGISTRATION},C.a.REGISTRATION),v.a.createElement(h.a,{value:C.a.VOTING},C.a.VOTING),v.a.createElement(h.a,{value:C.a.CLASSEMENT},C.a.CLASSEMENT))),v.a.createElement(p.a,{className:"mt-8 mb-16",type:"text",error:""===P.title,required:!0,label:"Name",id:"title",name:"title",value:P.title,onChange:L,variant:"outlined",fullWidth:!0}),v.a.createElement("div",{className:e.root},v.a.createElement(N.a,{container:!0,spacing:3},v.a.createElement(N.a,{item:!0,xs:6},v.a.createElement(p.a,{className:"mt-8 mb-16",type:"text",error:""===P.payment_destination,required:!0,label:"Payment Site",id:"payment_destination",name:"payment_destination",value:P.payment_destination,onChange:L,variant:"outlined",fullWidth:!0})),v.a.createElement(N.a,{item:!0,xs:6},v.a.createElement(p.a,{className:"mt-8 mb-16",type:"number",error:P.administrative_fee<=0,required:!0,label:"Administrative Fee",id:"administrative_fee",name:"administrative_fee",value:P.administrative_fee,onChange:L,variant:"outlined",InputProps:{startAdornment:"$"},fullWidth:!0})))),v.a.createElement(p.a,{className:"mt-8 mb-16",type:"number",error:""===P.members_team,required:!0,label:"Member number",id:"members_team",name:"members_team",value:P.members_team,onChange:L,variant:"outlined",fullWidth:!0,InputProps:{readOnly:!0}})),1===R&&v.a.createElement("div",{className:"p-16 sm:p-24"},v.a.createElement("div",{className:e.root},v.a.createElement(N.a,{container:!0,spacing:3},v.a.createElement(N.a,{item:!0,xs:12,sm:6},v.a.createElement(w.a,{className:e.paper},v.a.createElement(p.a,{className:"mt-8 mb-16",type:"date",error:""===P.registration_start,required:!0,label:"Registration Start Date",id:"registration_start",name:"registration_start",value:P.registration_start,onChange:L,variant:"outlined",fullWidth:!0}))),v.a.createElement(N.a,{item:!0,xs:12,sm:6},v.a.createElement(w.a,{className:e.paper},v.a.createElement(p.a,{className:"mt-8 mb-16",type:"date",error:""===P.registration_end,required:!0,label:"Registration End Date",id:"registration_end",name:"registration_end",value:P.registration_end,onChange:L,variant:"outlined",fullWidth:!0}))))),v.a.createElement("div",{className:e.root},v.a.createElement(N.a,{container:!0,spacing:3},v.a.createElement(N.a,{item:!0,xs:6},v.a.createElement(w.a,{className:e.paper},v.a.createElement(p.a,{className:"mt-8 mb-16",type:"date",error:""===P.voting_start,required:!0,label:"Voting Start Date",id:"voting_start",name:"voting_start",value:P.voting_start,onChange:L,variant:"outlined",fullWidth:!0}))),v.a.createElement(N.a,{item:!0,xs:6},v.a.createElement(w.a,{className:e.paper},v.a.createElement(p.a,{className:"mt-8 mb-16",type:"date",error:""===P.voting_end,required:!0,label:"Voting End Date",id:"voting_end",name:"voting_end",value:P.voting_end,onChange:L,variant:"outlined",fullWidth:!0}))))),v.a.createElement("div",{className:e.root},v.a.createElement(N.a,{container:!0,spacing:3},v.a.createElement(N.a,{item:!0,xs:6},v.a.createElement(w.a,{className:e.paper},v.a.createElement(p.a,{className:"mt-8 mb-16",type:"date",error:""===P.ranking_start,required:!0,label:"Classement Start Date",id:"ranking_start",name:"ranking_start",value:P.ranking_start,onChange:L,variant:"outlined",fullWidth:!0}))))))),innerScroll:!0}):v.a.createElement(i.a,null)}}}]);