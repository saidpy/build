(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[15],{1246:function(e,t,a){"use strict";var n=a(7),r=a(0),o=a.n(r),i=a(393),l=(a(576),o.a.forwardRef((function(e,t){var a=o.a.cloneElement(e.children,{style:Object(n.a)(Object(n.a)({},e.children.style),{},{visibility:"hidden"})});return o.a.createElement(i.VelocityComponent,Object.assign({ref:t},e),a)})));l.defaultProps={animation:"transition.fadeIn",runOnMount:!0,targetQuerySelector:null,interruptBehavior:"stop",visibility:"visible",duration:300,delay:50,easing:[.4,0,.2,1],display:null,setRef:void 0};var c=o.a.memo(l);a.d(t,"a",(function(){return c}))},1248:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l}));var n=a(56),r=a(132);function o(){r.c(n.a.ROLE)===n.a.ROLE_ADMIN&&(window.location="/login")}function i(){r.c(n.a.ROLE)!==n.a.ROLE_ADMIN&&(window.location="/admin/login")}function l(){r.c(n.a.TOKEN)&&(console.log(r.c(n.a.ROLE)),r.c(n.a.ROLE)===n.a.ROLE_ADMIN?window.location="/admin/project-list":window.location="/dashboard")}},1251:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return d})),a.d(t,"l",(function(){return u})),a.d(t,"d",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"n",(function(){return f})),a.d(t,"e",(function(){return b})),a.d(t,"h",(function(){return h})),a.d(t,"m",(function(){return v})),a.d(t,"o",(function(){return g})),a.d(t,"k",(function(){return E})),a.d(t,"g",(function(){return x})),a.d(t,"j",(function(){return y})),a.d(t,"i",(function(){return S}));var n=a(59),r=a.n(n),o=(a(39),a(298)),i=a(56),l=a(132),c="[E-COMMERCE APP] GET PRODUCT",s="[E-COMMERCE APP] SAVE PRODUCT";function d(e){var t="".concat(i.a.API_BASE_URL,"/contests/1");o.a("GET",t,null,(function(t){e(t)}))}function u(e,t){if(-1!==e.id){var a="".concat(i.a.API_BASE_URL,"/admin/contests/1");o.a("PUT",a,e,(function(e){t(e)}))}else{var n="".concat(i.a.API_BASE_URL,"/admin/contests/add");o.a("POST",n,e,(function(e){t(e)}))}}function m(e){var t="".concat(i.a.API_BASE_URL,"/admin/projects");o.a("GET",t,null,(function(t){e(t)}))}function p(e,t){var a="".concat(i.a.API_BASE_URL,"/admin/projects/approve/").concat(e);o.a("PUT",a,null,(function(e){t(e)}))}function f(e,t){var a="".concat(i.a.API_BASE_URL,"/admin/members/email");o.a("POST",a,e,(function(e){t(e)}))}function b(e){var t="".concat(i.a.API_BASE_URL,"/admin/projects?sort=-votes");o.a("GET",t,null,(function(t){e(t)}))}function h(e,t){var a="".concat(i.a.API_BASE_URL,"/admin/projects/").concat(e);o.a("GET",a,null,(function(e){t(e)}))}function v(e,t){var a="".concat(i.a.API_BASE_URL,"/admin/projects/update/").concat(e.id);o.a("POST",a,e,(function(e){t(e)}))}function g(e,t){var a="".concat(i.a.API_BASE_URL,"/files/upload");o.b(a,e,(function(e){t(e)}))}function E(){return{type:c,payload:{id:-1,title:"",team_id:-1,type:"short film",image_url:"",synopsis:"",description:"",references:[],approved:!1,votes:0,created_date:"",team:{}}}}function x(e){var t="".concat(i.a.API_BASE_URL,"/admin/projects/").concat(e),a=l.c(i.a.TOKEN),n={"Content-Type":"application/json",Authorization:"Token ".concat(a)},o=r.a.get(t,{headers:n});return function(e){return o.then((function(t){return e({type:c,payload:t.data})}))}}function y(e,t){var a="".concat(i.a.API_BASE_URL,"/teams/").concat(e);o.a("GET",a,null,(function(e){t(e)}))}function S(e){var t="".concat(i.a.API_BASE_URL,"/admin/contests/1/stage");o.a("GET",t,null,(function(t){e(t)}))}},1253:function(e,t,a){"use strict";var n=a(57),r=a(42),o=a(1220),i=a(9),l=a(0),c=a.n(l),s=a(1223),d=a(6);var u=function(e){var t=Object(d.c)((function(e){return e.fuse.settings.mainThemeDark}));return c.a.createElement("div",{className:e.classes.header},e.header&&c.a.createElement(s.a,{theme:t},e.header))},m=a(23),p=a(1234),f=a(1241);var b=function(e){var t=Object(d.c)((function(e){return e.fuse.settings.mainThemeDark})),a=e.classes;return c.a.createElement(c.a.Fragment,null,e.header&&c.a.createElement(s.a,{theme:t},c.a.createElement("div",{className:Object(i.a)(a.sidebarHeader,e.variant)},e.header)),e.content&&c.a.createElement(r.a,{className:a.sidebarContent,enable:e.innerScroll},e.content))};var h=c.a.forwardRef((function(e,t){var a=Object(l.useState)(!1),n=Object(m.a)(a,2),r=n[0],o=n[1],s=e.classes;Object(l.useImperativeHandle)(t,(function(){return{toggleSidebar:d}}));var d=function(){o(!r)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{lgUp:"permanent"===e.variant},c.a.createElement(p.a,{variant:"temporary",anchor:e.position,open:r,onClose:function(e){return d()},classes:{root:Object(i.a)(s.sidebarWrapper,e.variant),paper:Object(i.a)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:s.backdrop}},style:{position:"absolute"}},c.a.createElement(b,e))),"permanent"===e.variant&&c.a.createElement(f.a,{mdDown:!0},c.a.createElement(p.a,{variant:"permanent",className:Object(i.a)(s.sidebarWrapper,e.variant),open:r,classes:{paper:Object(i.a)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)}},c.a.createElement(b,e))))})),v=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:200,backgroundSize:"cover",pointerEvents:"none"},contentWrapper:Object(n.a)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},e.breakpoints.down("xs"),{padding:"0 1.6rem"}),header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[1],minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{zIndex:1,position:"relative"})},sidebar:{position:"absolute","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:200,minHeight:200,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent"})},sidebarContent:Object(n.a)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary},e.breakpoints.up("lg"),{overflow:"auto","-webkit-overflow-scrolling":"touch"}),backdrop:{position:"absolute"}}})),g=c.a.forwardRef((function(e,t){var a=Object(l.useRef)(null),n=Object(l.useRef)(null),o=Object(l.useRef)(null),s=v(e),d=e.rightSidebarHeader||e.rightSidebarContent,m=e.leftSidebarHeader||e.leftSidebarContent;return c.a.useImperativeHandle(t,(function(){return{rootRef:o,toggleLeftSidebar:function(){a.current.toggleSidebar()},toggleRightSidebar:function(){n.current.toggleSidebar()}}})),c.a.createElement("div",{className:Object(i.a)(s.root,e.innerScroll&&s.innerScroll),ref:o},c.a.createElement("div",{className:s.topBg}),c.a.createElement("div",{className:"flex container w-full"},m&&c.a.createElement(h,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:a,rootRef:o}),c.a.createElement("div",{className:Object(i.a)(s.contentWrapper,m&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",d&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0")},c.a.createElement(u,{header:e.header,classes:s}),c.a.createElement("div",{className:Object(i.a)(s.contentCard,e.innerScroll&&"inner-scroll")},e.contentToolbar&&c.a.createElement("div",{className:s.toolbar},e.contentToolbar),e.content&&c.a.createElement(r.a,{className:s.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll},e.content))),d&&c.a.createElement(h,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:n,rootRef:o})))}));g.defaultProps={};var E=c.a.memo(g);a.d(t,"a",(function(){return E}))},1254:function(e,t,a){"use strict";var n=a(1251);a.d(t,"a",(function(){return n.a})),a.d(t,"b",(function(){return n.b})),a.d(t,"c",(function(){return n.c})),a.d(t,"d",(function(){return n.d})),a.d(t,"e",(function(){return n.f})),a.d(t,"f",(function(){return n.g})),a.d(t,"g",(function(){return n.h})),a.d(t,"h",(function(){return n.j})),a.d(t,"i",(function(){return n.k})),a.d(t,"j",(function(){return n.l})),a.d(t,"k",(function(){return n.m})),a.d(t,"l",(function(){return n.n})),a.d(t,"m",(function(){return n.o}))},1277:function(e,t,a){"use strict";var n=a(60),r=a(7),o=a(1254),i={data:null},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a:case o.b:return Object(r.a)(Object(r.a)({},e),{},{data:t.payload});default:return e}},c=Object(n.d)({project:l});t.a=c},1335:function(e,t,a){"use strict";var n=a(3),r=a(20),o=a(1),i=a(0),l=a.n(i),c=(a(2),a(5)),s=a(8),d=a(276),u=a(10),m=l.a.forwardRef((function(e,t){var a=e.classes,r=e.className,i=e.disabled,s=void 0!==i&&i,m=e.disableFocusRipple,p=void 0!==m&&m,f=e.fullWidth,b=e.icon,h=e.indicator,v=e.label,g=e.onChange,E=e.onClick,x=e.selected,y=e.textColor,S=void 0===y?"inherit":y,j=e.value,w=e.wrapped,O=void 0!==w&&w,N=Object(n.a)(e,["classes","className","disabled","disableFocusRipple","fullWidth","icon","indicator","label","onChange","onClick","selected","textColor","value","wrapped"]);return l.a.createElement(d.a,Object(o.a)({focusRipple:!p,className:Object(c.default)(a.root,a["textColor".concat(Object(u.a)(S))],r,s&&a.disabled,x&&a.selected,v&&b&&a.labelIcon,f&&a.fullWidth,O&&a.wrapped),ref:t,role:"tab","aria-selected":x,disabled:s,onClick:function(e){g&&g(e,j),E&&E(e)}},N),l.a.createElement("span",{className:a.wrapper},b,v),h)}));t.a=Object(s.a)((function(e){var t;return{root:Object(o.a)({},e.typography.button,(t={maxWidth:264,minWidth:72,position:"relative",boxSizing:"border-box",minHeight:48,flexShrink:0,padding:"6px 12px"},Object(r.a)(t,e.breakpoints.up("sm"),{padding:"6px 24px"}),Object(r.a)(t,"overflow","hidden"),Object(r.a)(t,"whiteSpace","normal"),Object(r.a)(t,"textAlign","center"),Object(r.a)(t,e.breakpoints.up("sm"),{minWidth:160}),t)),labelIcon:{minHeight:72,paddingTop:9,"& $wrapper > *:first-child":{marginBottom:6}},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.5}},textColorPrimary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled}},textColorSecondary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},wrapped:{fontSize:e.typography.pxToRem(12),lineHeight:1.5},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"}}}),{name:"MuiTab"})(m)},1362:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a(1246),o=a(395),i=a(1253),l=(a(166),a(1237)),c=a(189),s=a(1220),d=a(1335),u=a(1349),m=a(1235),p=a(181),f=a(9),b=a(0),h=a.n(b),v=a(1277),g=a(1250),E=a.n(g),x=a(397),y=a(1264),S=a.n(y),j=a(1276),w=a.n(j),O=a(1286),N=a.n(O),I=a(1254),C=a(56),T=a(1248),k=Object(s.a)((function(e){return{productImageFeaturedStar:{position:"absolute",top:0,right:0,color:c.a[400],opacity:0},productImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},productImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $productImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $productImageFeaturedStar":{opacity:1},"&:hover $productImageFeaturedStar":{opacity:1}}},productPDFTitle:{position:"absolute",bottom:0},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},colorblack:{color:"black"}}}));t.default=Object(x.a)("eCommerceApp",v.a)((function(e){T.a();var t=k(),a=Object(b.useState)(0),c=Object(n.a)(a,2),s=c[0],v=c[1],g=Number(e.match.params.id),x=Object(b.useState)(null),y=Object(n.a)(x,2),j=y[0],O=y[1],R=Object(b.useState)("Approve"),A=Object(n.a)(R,2),P=A[0],_=A[1];function U(e){var t="error",a="Server Not Found!";e&&e.status===C.a.STATUS_CREATED?(a="Voting Success!",t="success"):e&&(a=e.statusText),E.a.fire({title:a,text:"",icon:t,confirmButtonText:"Ok"})}function B(e){return""!==e?e:"Unknown"}return Object(b.useEffect)((function(){I.g(g,(function(e){e&&e.status===C.a.STATUS_SUCCESS?(O(e.data),e.data.approved&&_("Go Back")):U(null)}))}),[]),j?h.a.createElement(i.a,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:h.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},h.a.createElement("div",{className:"flex flex-col items-start max-w-full"},h.a.createElement("div",{className:"flex items-center max-w-full"},h.a.createElement(r.a,{animation:"transition.expandIn",delay:300},h.a.createElement("img",{className:"w-32 sm:w-48 rounded",src:j.image_url,alt:j.title})),h.a.createElement("div",{className:"flex flex-col min-w-0 mx-8 sm:mc-16"},h.a.createElement(r.a,{animation:"transition.slideLeftIn",delay:300},h.a.createElement(p.a,{className:"text-16 sm:text-20 truncate"},j.title)),h.a.createElement(r.a,{animation:"transition.slideLeftIn",delay:300},h.a.createElement(p.a,{variant:"caption"},"Product Detail"))))),h.a.createElement(r.a,{animation:"transition.slideRightIn",delay:300},h.a.createElement(l.a,{className:"whitespace-no-wrap normal-case",variant:"contained",color:"secondary",onClick:function(){j.approved?e.history.push("/admin/project-list"):I.c(j.id,(function(e){console.log(e),e&&e.status===C.a.STATUS_SUCCESS?(j.approved=!0,O(j),_("Go Back")):U(e)}))}},P))),contentToolbar:h.a.createElement(u.a,{value:s,onChange:function(e,t){v(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},h.a.createElement(d.a,{className:"h-64 normal-case",label:"Project"}),h.a.createElement(d.a,{className:"h-64 normal-case",label:"Team"})),content:h.a.createElement("div",{className:"p-16 sm:p-24 max-w-1xl black"},0===s&&h.a.createElement("div",{className:t.root},h.a.createElement(S.a,{container:!0,spacing:3},h.a.createElement(S.a,{item:!0,xs:2}),h.a.createElement(S.a,{item:!0,xs:8},h.a.createElement("div",null,h.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-8"},h.a.createElement("div",{tabIndex:0,className:Object(f.a)(t.projectImageItem,"flex items-center justify-center relative w-128 h-128 rounded-4 mx-8 mb-16 overflow-hidden shadow-1 hover:shadow-5")},h.a.createElement("img",{className:"max-w-none w-auto h-full",src:j.image_url,alt:"project"})))),h.a.createElement("div",null,h.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-8"},h.a.createElement(m.a,{className:"mt-8 mb-16",error:""===j.title,label:"Name",id:"title",name:"title",value:j.title,variant:"outlined",fullWidth:!0,InputProps:{readOnly:!0}}),h.a.createElement(m.a,{className:"mt-8 mb-16",id:"synopsis",name:"type",label:"Type",type:"text",value:j.type,variant:"outlined",fullWidth:!0,InputProps:{readOnly:!0}}),h.a.createElement(m.a,{className:"mt-8 mb-16",id:"synopsis",name:"synopsis",label:"Synopsis",type:"text",value:j.synopsis,variant:"outlined",fullWidth:!0,InputProps:{readOnly:!0}}),h.a.createElement(m.a,{className:"mt-8 mb-16",id:"description",name:"description",label:"Description",type:"text",value:j.description,multiline:!0,rows:5,variant:"outlined",fullWidth:!0,InputProps:{readOnly:!0}}))))),h.a.createElement(S.a,{container:!0,spacing:3},h.a.createElement(S.a,{item:!0,xs:2}),h.a.createElement(S.a,{item:!0,xs:8},j.references.map((function(e){return h.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-8  w-full"},h.a.createElement("label",{htmlFor:"button-file",className:Object(f.a)(t.projectImageUpload,"flex relative w-200 h-50 rounded-4 mx-8 mb-16 overflow-hidden shadow-1")},h.a.createElement(w.a,{fontSize:"large",color:"action"},"cloud_upload"),"\xa0",e.role),h.a.createElement("div",{tabIndex:1,className:Object(f.a)("flex items-center  relative h-50 rounded-4 mx-8 mb-16 overflow-hidden cursor-pointer hover:shadow-5")},h.a.createElement(w.a,null," picture_as_pdf"),h.a.createElement("p",null,function(e){var t=e.split("/");return t[t.length-1]}(e.reference_url))))}))))),1===s&&h.a.createElement("div",{className:t.root},h.a.createElement(S.a,{container:!0,spacing:3},h.a.createElement(S.a,{item:!0,xs:2}),h.a.createElement(S.a,{item:!0,xs:8},h.a.createElement("div",null,h.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-8"},h.a.createElement("div",{tabIndex:0,className:Object(f.a)(t.projectImageItem,"flex items-center justify-center relative w-128 h-128 rounded-4 mx-8 mb-16 overflow-hidden shadow-1 hover:shadow-5")},h.a.createElement("img",{className:"max-w-none w-auto h-full",src:j.team.avatar_url,alt:j.team.name})))),h.a.createElement("div",null,h.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-8"},h.a.createElement(m.a,{className:"mb-16",type:"text",name:"name",label:"Team Name",validations:{minLength:3},validationErrors:{minLength:"Min character length is 3"},InputProps:{endAdornment:h.a.createElement(N.a,{position:"end"},h.a.createElement(w.a,{className:"text-20",color:"action"},"group")),readOnly:!0},variant:"outlined",value:j.team.name,fullWidth:!0}),h.a.createElement(m.a,{className:"mb-16",type:"text",name:"director",label:"Director",variant:"outlined",value:B(j.team.members[0].name),InputProps:{endAdornment:h.a.createElement(N.a,{position:"end"},h.a.createElement(w.a,{className:"text-20",color:"action"},"person")),readOnly:!0},fullWidth:!0}),h.a.createElement(m.a,{className:"mb-16",type:"text",name:"scriptwriter",label:"Script writer",variant:"outlined",value:B(j.team.members[1].name),InputProps:{endAdornment:h.a.createElement(N.a,{position:"end"},h.a.createElement(w.a,{className:"text-20",color:"action"},"person")),readOnly:!0},fullWidth:!0}),h.a.createElement(m.a,{className:"mb-16",type:"text",name:"production_manager",label:"Production manager",variant:"outlined",value:B(j.team.members[2].name),InputProps:{endAdornment:h.a.createElement(N.a,{position:"end"},h.a.createElement(w.a,{className:"text-20",color:"action"},"person")),readOnly:!0},fullWidth:!0}))))))),innerScroll:!0}):h.a.createElement(o.a,null)}))}}]);