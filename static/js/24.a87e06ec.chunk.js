(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[24],{1246:function(e,t,a){"use strict";var n=a(7),r=a(0),o=a.n(r),i=a(393),l=(a(576),o.a.forwardRef((function(e,t){var a=o.a.cloneElement(e.children,{style:Object(n.a)(Object(n.a)({},e.children.style),{},{visibility:"hidden"})});return o.a.createElement(i.VelocityComponent,Object.assign({ref:t},e),a)})));l.defaultProps={animation:"transition.fadeIn",runOnMount:!0,targetQuerySelector:null,interruptBehavior:"stop",visibility:"visible",duration:300,delay:50,easing:[.4,0,.2,1],display:null,setRef:void 0};var c=o.a.memo(l);a.d(t,"a",(function(){return c}))},1249:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"o",(function(){return u})),a.d(t,"m",(function(){return d})),a.d(t,"l",(function(){return m})),a.d(t,"g",(function(){return f})),a.d(t,"h",(function(){return p})),a.d(t,"f",(function(){return b})),a.d(t,"i",(function(){return h})),a.d(t,"j",(function(){return g})),a.d(t,"d",(function(){return v})),a.d(t,"e",(function(){return E})),a.d(t,"p",(function(){return j})),a.d(t,"k",(function(){return S})),a.d(t,"n",(function(){return x}));var n=a(59),r=a.n(n),o=(a(39),a(298)),i=a(56),l="[E-COMMERCE APP] GET PRODUCT",c="[E-COMMERCE APP] SAVE PRODUCT";function s(e,t){var a="".concat(i.a.API_BASE_URL,"/teams/add");o.a("POST",a,e,(function(e){t(e)}))}function u(e,t){var a="".concat(i.a.API_BASE_URL,"/files/upload");o.b(a,e,(function(e){t(e)}))}function d(e,t){var a="".concat(i.a.API_BASE_URL,"/projects/add");o.a("POST",a,e,(function(e){t(e)}))}function m(){return{type:l,payload:{id:-1,title:"",team_id:-1,type:"short film",image_url:"",synopsis:"",description:"",references:[],approved:!1,votes:0,created_date:""}}}function f(e){var t="".concat(i.a.API_BASE_URL,"/projects/").concat(e),a=r.a.get(t);return function(e){return a.then((function(t){return e({type:l,payload:t.data})}))}}function p(e,t){var a="".concat(i.a.API_BASE_URL,"/projects/").concat(e);o.a("GET",a,null,(function(e){t(e)}))}function b(e){var t="".concat(i.a.API_BASE_URL,"/contests/1");o.a("GET",t,null,(function(t){e(t)}))}function h(e){var t="".concat(i.a.API_BASE_URL,"/contests/1/stage");o.a("GET",t,null,(function(t){e(t)}))}function g(e,t){var a="".concat(i.a.API_BASE_URL,"/teams/").concat(e);o.a("GET",a,null,(function(e){t(e)}))}function v(e,t){var a="".concat(i.a.API_BASE_URL,"/projects/exclude/").concat(e);o.a("GET",a,null,(function(e){t(e)}))}function E(e){var t="".concat(i.a.API_BASE_URL,"/projects?sort=-votes");o.a("GET",t,null,(function(t){e(t)}))}function j(e,t){var a="".concat(i.a.API_BASE_URL,"/projects/vote");o.a("POST",a,e,(function(e){t(e)}))}function S(e,t){var a="".concat(i.a.API_BASE_URL,"/members/").concat(e);o.a("GET",a,null,(function(e){t(e)}))}function x(e,t){var a="".concat(i.a.API_BASE_URL,"/members/email");o.a("POST",a,e,(function(e){t(e)}))}},1253:function(e,t,a){"use strict";var n=a(57),r=a(42),o=a(1220),i=a(9),l=a(0),c=a.n(l),s=a(1223),u=a(6);var d=function(e){var t=Object(u.c)((function(e){return e.fuse.settings.mainThemeDark}));return c.a.createElement("div",{className:e.classes.header},e.header&&c.a.createElement(s.a,{theme:t},e.header))},m=a(23),f=a(1234),p=a(1241);var b=function(e){var t=Object(u.c)((function(e){return e.fuse.settings.mainThemeDark})),a=e.classes;return c.a.createElement(c.a.Fragment,null,e.header&&c.a.createElement(s.a,{theme:t},c.a.createElement("div",{className:Object(i.a)(a.sidebarHeader,e.variant)},e.header)),e.content&&c.a.createElement(r.a,{className:a.sidebarContent,enable:e.innerScroll},e.content))};var h=c.a.forwardRef((function(e,t){var a=Object(l.useState)(!1),n=Object(m.a)(a,2),r=n[0],o=n[1],s=e.classes;Object(l.useImperativeHandle)(t,(function(){return{toggleSidebar:u}}));var u=function(){o(!r)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{lgUp:"permanent"===e.variant},c.a.createElement(f.a,{variant:"temporary",anchor:e.position,open:r,onClose:function(e){return u()},classes:{root:Object(i.a)(s.sidebarWrapper,e.variant),paper:Object(i.a)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:s.backdrop}},style:{position:"absolute"}},c.a.createElement(b,e))),"permanent"===e.variant&&c.a.createElement(p.a,{mdDown:!0},c.a.createElement(f.a,{variant:"permanent",className:Object(i.a)(s.sidebarWrapper,e.variant),open:r,classes:{paper:Object(i.a)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)}},c.a.createElement(b,e))))})),g=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:200,backgroundSize:"cover",pointerEvents:"none"},contentWrapper:Object(n.a)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},e.breakpoints.down("xs"),{padding:"0 1.6rem"}),header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[1],minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{zIndex:1,position:"relative"})},sidebar:{position:"absolute","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:200,minHeight:200,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent"})},sidebarContent:Object(n.a)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary},e.breakpoints.up("lg"),{overflow:"auto","-webkit-overflow-scrolling":"touch"}),backdrop:{position:"absolute"}}})),v=c.a.forwardRef((function(e,t){var a=Object(l.useRef)(null),n=Object(l.useRef)(null),o=Object(l.useRef)(null),s=g(e),u=e.rightSidebarHeader||e.rightSidebarContent,m=e.leftSidebarHeader||e.leftSidebarContent;return c.a.useImperativeHandle(t,(function(){return{rootRef:o,toggleLeftSidebar:function(){a.current.toggleSidebar()},toggleRightSidebar:function(){n.current.toggleSidebar()}}})),c.a.createElement("div",{className:Object(i.a)(s.root,e.innerScroll&&s.innerScroll),ref:o},c.a.createElement("div",{className:s.topBg}),c.a.createElement("div",{className:"flex container w-full"},m&&c.a.createElement(h,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:a,rootRef:o}),c.a.createElement("div",{className:Object(i.a)(s.contentWrapper,m&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",u&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0")},c.a.createElement(d,{header:e.header,classes:s}),c.a.createElement("div",{className:Object(i.a)(s.contentCard,e.innerScroll&&"inner-scroll")},e.contentToolbar&&c.a.createElement("div",{className:s.toolbar},e.contentToolbar),e.content&&c.a.createElement(r.a,{className:s.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll},e.content))),u&&c.a.createElement(h,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:n,rootRef:o})))}));v.defaultProps={};var E=c.a.memo(v);a.d(t,"a",(function(){return E}))},1267:function(e,t,a){"use strict";var n=a(1249);a.d(t,"a",(function(){return n.a})),a.d(t,"b",(function(){return n.b})),a.d(t,"c",(function(){return n.g})),a.d(t,"d",(function(){return n.h})),a.d(t,"e",(function(){return n.l})),a.d(t,"f",(function(){return n.m})),a.d(t,"g",(function(){return n.n})),a.d(t,"h",(function(){return n.o})),a.d(t,"i",(function(){return n.p}))},1292:function(e,t,a){"use strict";var n=a(60),r=a(7),o=a(1267),i={data:null},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a:case o.b:return Object(r.a)(Object(r.a)({},e),{},{data:t.payload});default:return e}},c=Object(n.d)({project:l});t.a=c},1372:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(23),o=a(1246),i=a(395),l=(a(1253),a(166)),c=a(11),s=a(1237),u=a(189),d=a(1215),m=a(1220),f=a(1235),p=a(181),b=a(9),h=a(0),g=a.n(h),v=a(6),E=a(1180),j=a(1218),S=a(1166),x=a(1182),O=a(397),y=a(1292),w=a(1267),_=a(56),N=a(1250),I=a.n(N),A=a(1264),C=a.n(A),T=a(1261),P=a.n(T),R=a(1262),U=a.n(R),k=a(1255),B=Object(m.a)((function(e){return{projectImageFeaturedStar:{position:"absolute",top:0,right:0,color:u.a[400],opacity:0},projectImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},projectImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $projectImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $projectImageFeaturedStar":{opacity:1},"&:hover $projectImageFeaturedStar":{opacity:1}}},projectPDFTitle:{position:"absolute",bottom:0},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));t.default=Object(O.a)("eCommerceApp",y.a)((function(e){var t=B(),a=Object(v.b)(),u=Object(v.c)((function(e){return e.eCommerceApp.project})),m=Object(h.useState)(0),O=Object(r.a)(m,2),y=(O[0],O[1],Object(l.b)(null)),N=y.form,A=y.handleChange,T=y.setForm,R=Number(e.match.params.id),L=new URLSearchParams(e.location.search),D=Number(L.get("team"));function F(e,t){console.log(t);var a=new FormData;a.append("file",e),w.h(a,(function(a){a?a.status===_.a.STATUS_SUCCESS?1===t?T(c.a.set(Object(n.a)({},N),"image_url",_.a.UPLOAD_BASE_URL+a.data)):2===t?(te({reference_url:_.a.UPLOAD_BASE_URL+a.data,role:"Iconographic file"}),G(e.name)):3===t?(J(e.name),oe({reference_url:_.a.UPLOAD_BASE_URL+a.data,role:"Mood board"})):(X(e.name),se({reference_url:_.a.UPLOAD_BASE_URL+a.data,role:"additional note"})):ue(a):ue(null)}))}Object(h.useEffect)((function(){a(-1===R?w.e():w.c(R))}),[a,e.match.params]),Object(h.useEffect)((function(){(u.data&&!N||u.data&&N&&u.data.id!==N.id)&&T(u.data)}),[N,u.data,T]);var H=Object(h.useState)(""),M=Object(r.a)(H,2),W=M[0],G=M[1],z=Object(h.useState)(""),V=Object(r.a)(z,2),$=V[0],J=V[1],q=Object(h.useState)(""),Q=Object(r.a)(q,2),K=Q[0],X=Q[1],Y=Object(h.useState)({}),Z=Object(r.a)(Y,2),ee=Z[0],te=Z[1],ae=Object(h.useState)({}),ne=Object(r.a)(ae,2),re=ne[0],oe=ne[1],ie=Object(h.useState)({}),le=Object(r.a)(ie,2),ce=le[0],se=le[1];function ue(e){var t="Server Not Found!";e&&e.status===_.a.STATUS_CONFLICT&&(t=e.data.error),I.a.fire({title:t,text:"",icon:"error",confirmButtonText:"Ok"}).then()}return(!u.data||u.data&&Number(e.match.params.id)!==u.data.id)&&-1!==Number(e.match.params.id)?g.a.createElement(i.a,null):g.a.createElement("div",{className:Object(b.a)(t.root,"flex flex-col flex-auto flex-shrink-0 items-center justify-center p-32")},g.a.createElement("div",{className:"flex flex-col items-center justify-center w-full"},g.a.createElement(o.a,{animation:"transition.expandIn"},g.a.createElement(P.a,{className:"w-full max-w-512"},g.a.createElement(U.a,{className:"flex flex-col items-center justify-center p-32"},g.a.createElement(p.a,{variant:"h4",className:"mt-16 mb-32"},"Create Project"),g.a.createElement(C.a,{container:!0,spacing:3},N&&g.a.createElement(C.a,{item:!0,xs:12},g.a.createElement("div",null,g.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-8"},""===N.image_url&&g.a.createElement("label",{htmlFor:"button-file",className:Object(b.a)(t.projectImageUpload,"flex items-center justify-center relative w-128 h-128 rounded-4 mx-8 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5")},g.a.createElement("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:function(e){console.log(e);var t=e.target.files[0];t&&F(t,1)}}),g.a.createElement(d.a,{fontSize:"large",color:"action"},"cloud_upload")," \xa0Image"),""!==N.image_url&&g.a.createElement("div",{role:"button",tabIndex:0,className:Object(b.a)(t.projectImageItem,"flex items-center justify-center relative w-128 h-128 rounded-4 mx-8 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5")},g.a.createElement(d.a,{className:t.projectImageFeaturedStar,onClick:function(){T(c.a.set(Object(n.a)({},N),"image_url","",N.image_url))}},"close"),g.a.createElement("img",{className:"max-w-none w-auto h-full",src:N.image_url,alt:"project"})))),g.a.createElement("div",null,g.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-8"},g.a.createElement(f.a,{className:"mt-8 mb-16",error:""===N.title,label:"Name",id:"title",name:"title",value:N.title,onChange:A,variant:"outlined",fullWidth:!0}),g.a.createElement(S.a,{className:"mt-8 mb-12",variant:"outlined",fullWidth:!0},g.a.createElement(E.a,{id:"demo-simple-select-outlined-label"},"Type"),g.a.createElement(x.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",name:"type",value:N.type,onChange:A,labelWidth:50},g.a.createElement(j.a,{value:"short film"},"short film"),g.a.createElement(j.a,{value:"long film"},"long film"),g.a.createElement(j.a,{value:"series"},"series"))),g.a.createElement(f.a,{className:"mt-8 mb-16",id:"synopsis",name:"synopsis",onChange:A,label:"Synopsis",type:"text",value:N.synopsis,variant:"outlined",fullWidth:!0}),g.a.createElement(f.a,{className:"mt-8 mb-16",id:"description",name:"description",onChange:A,label:"Description",type:"text",value:N.description,multiline:!0,rows:5,variant:"outlined",fullWidth:!0}))),g.a.createElement("div",null,g.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-8"},g.a.createElement("label",{htmlFor:"button-file1",className:Object(b.a)(t.projectImageUpload,"flex relative w-200 h-50 rounded-4 mx-8 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5")},g.a.createElement("input",{accept:"application/pdf",className:"hidden",id:"button-file1",type:"file",onChange:function(e){var t=e.target.files[0];t&&(console.log(2),F(t,2))}}),g.a.createElement(d.a,{fontSize:"large",color:"action"},"cloud_upload"),"\xa0Iconographic file"),""!==W&&g.a.createElement("div",{tabIndex:1,className:Object(b.a)("flex items-center  relative h-50 rounded-4 mx-8 mb-16 overflow-hidden")},g.a.createElement(d.a,null," picture_as_pdf"),g.a.createElement("p",null,W))),g.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-8"},g.a.createElement("label",{htmlFor:"button-file2",className:Object(b.a)(t.projectImageUpload,"flex relative w-200 h-50 rounded-4 mx-8 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5")},g.a.createElement("input",{accept:"application/pdf",className:"hidden",id:"button-file2",name:"test2",type:"file",onChange:function(e){var t=e.target.files[0];t&&(console.log(3),F(t,3))}}),g.a.createElement(d.a,{fontSize:"large",color:"action"},"cloud_upload"),"\xa0Mood board"),""!==$&&g.a.createElement("div",{tabIndex:1,className:Object(b.a)("flex items-center  relative h-50 rounded-4 mx-8 mb-16 overflow-hidden")},g.a.createElement(d.a,null," picture_as_pdf"),g.a.createElement("p",null,$))),g.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-8"},g.a.createElement("label",{htmlFor:"button-file3",className:Object(b.a)(t.projectImageUpload,"flex relative w-200 h-50 rounded-4 mx-8 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5")},g.a.createElement("input",{accept:"application/pdf",className:"hidden",id:"button-file3",type:"file",onChange:function(e){var t=e.target.files[0];t&&(console.log(4),F(t,4))}}),g.a.createElement(d.a,{fontSize:"large",color:"action"},"cloud_upload"),"\xa0Additional note"),""!==K&&g.a.createElement("div",{tabIndex:1,className:Object(b.a)("flex items-center  relative h-50 rounded-4 mx-8 mb-16 overflow-hidden")},g.a.createElement(d.a,null," picture_as_pdf"),g.a.createElement("p",null,K)))),g.a.createElement(s.a,{className:"MuiButtonBase-root MuiButton-root MuiButton-contained w-full mx-auto mt-16 normal-case mb-16 MuiButton-containedPrimary",variant:"contained",disabled:!(N.title.length>0&&N.synopsis.length>0&&N.description.length>0&&W.length>0&&$.length>0&&K.length>0&&N.image_url.length>0&&!c.a.isEqual(u.data,N)),onClick:function(){return function(t){t.team_id=D,console.log(t),t.references=[ee,re,ce],w.f(t,(function(t){console.log(t),t?t.status===_.a.STATUS_CREATED?e.history.push("/payment/".concat(D)):ue(t):ue(null)}))}(N)}},"Save"))))))),g.a.createElement(k.a,{color:"#6886af",num:10,type:"circle",bg:!0}))}))}}]);